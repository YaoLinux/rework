# Depends on : kcalcore kcontacts kf5-extra-cmake-modules kf5-kdoctools qt-webengine qt-tools

description="A KDE-based library for accessing various Google services via their public API "
url="https://projects.kde.org/projects/extragear/libs/libkgapi"
packager="pierre at nutyx dot org"

name=libkgapi
version=17.04.2
release=1

source=(http://download.kde.org/stable/applications/$version/src/$name-$version.tar.xz
       libkgapi-fix-auth.patch)

build() {
  mkdir build
  cd $name-$version
#  patch -p1 -i ../libkgapi-fix-auth.patch
  cd ../build
  cmake ../$name-$version        \
    -DCMAKE_BUILD_TYPE=Release   \
    -DCMAKE_INSTALL_PREFIX=/usr  \
    -DKDE_INSTALL_LIBDIR=lib     \
    -DBUILD_TESTING=OFF
  make
  make DESTDIR=$PKG install
}
